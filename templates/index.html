<!DOCTYPE html>
<html>
<head>
  <title>Binance Testnet Bot</title>
</head>
<body>
  <h1>📈 Binance Futures Testnet Trading Bot</h1>

  <!-- 🔍 TradingView Chart -->
  <div class="tradingview-widget-container">
    <div id="tradingview_btc"></div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
      new TradingView.widget({
        "width": 800,
        "height": 400,
        "symbol": "BINANCE:BTCUSDT",
        "interval": "1",
        "timezone": "Etc/UTC",
        "theme": "light",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "container_id": "tradingview_btc"
      });
    </script>
  </div>

  <form method="POST">
    <label>Symbol:</label>
    <input type="text" name="symbol" placeholder="e.g. BTCUSDT" required><br><br>

    <label>Side:</label>
    <select name="side">
      <option value="buy">Buy</option>
      <option value="sell">Sell</option>
    </select><br><br>

    <label>Order Type:</label>
    <select name="order_type">
      <option value="market">Market</option>
      <option value="limit">Limit</option>
      <option value="stop-market">Stop-Market</option>
    </select><br><br>

    <label>Quantity:</label>
    <input type="number" step="0.01" name="quantity" required><br><br>

    <label>Limit Price (if limit):</label>
    <input type="number" step="0.01" name="price"><br><br>

    <label>Stop Price (if stop-market):</label>
    <input type="number" step="0.01" name="stop_price"><br><br>

    <button type="submit">Place Order</button>
  </form>

  {% if market_price %}
    <h3>Current Market Price: {{ market_price }}</h3>
  {% endif %}

  {% if response %}
    <h3>Order Response:</h3>
    <pre>{{ response }}</pre>
  {% endif %}
</body>
</html>
